{"version":3,"sources":["Form.js","Board.js","Game.js","App.js","index.js"],"names":["Form","props","state","value","judgeMode","players","handleChange","bind","handleSubmit","event","this","setState","target","preventDefault","onClick","className","onSubmit","refresh","style","display","onQuestionRefresh","question","maxWidth","type","placeholder","onChange","marginTop","marginBottom","fontWeight","color","answer","map","player","key","React","Component","Board","row","board","i","columns","push","renderSquare","answers","roundDone","questions","createBoard","blanks","Game","onMakeMove","index","backlog","userIndex","targetIndex","oldTargetIndex","length","pubnub","publish","message","name","channel","gameChannel","onGuess","guess","answerer","answerers","answererIndex","indexOf","judge","user","correctGuess","QLIndex","questionsList","endIndex","oldIndex","newIndex","onWin","winners","title","toString","isRoomCreator","Swal","fire","position","allowOutsideClick","text","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","width","customClass","heightAuto","popup","confirmButton","cancelButton","then","result","reset","endGame","rows","occupants","cols","answerBlanks","answererBlanks","j","shuffledQuestionsList","shuffleQuestionsList","slice","scores","Array","fill","judgeCount","madeMove","getMessage","msg","splice","maxScore","Math","max","winningScore","newRound","prevIndex","every","item","console","log","close","floor","random","temp","restart","reverse","fontSize","marginLeft","App","onCreate","e","roomId","shortid","generate","substring","lobbyChannel","subscribe","channels","withPresence","input","inputValue","window","localStorage","getItem","inputPlaceholder","padding","setItem","unsubscribe","onPressJoin","joinRoom","onPressStart","start","onPressRemove","startIsDisabled","removedPlayer","isPlaying","PubNubReact","publishKey","subscribeKey","init","includes","getPresence","presence","action","margin","textAlign","disabled","ReactDOM","render","document","getElementById"],"mappings":"whEA6DeA,E,kDA1Db,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAAEC,MAAO,EAAKF,MAAMG,UAAY,EAAKH,MAAMI,QAAQ,GAAK,IAErE,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBALH,E,yDAQNE,GACXC,KAAKC,SAAS,CAAER,MAAOM,EAAMG,OAAOT,U,mCAGzBM,GACXA,EAAMI,iBACNH,KAAKT,MAAMa,QAAQJ,KAAKR,MAAMC,OAC9BO,KAAKC,SAAS,CAAER,MAAOO,KAAKT,MAAMG,UAAYM,KAAKT,MAAMI,QAAQ,GAAK,O,+BAG9D,IAAD,OACP,OACE,8BACIK,KAAKT,MAAMG,WACX,0BAAMW,UAAU,UAAUC,SAAUN,KAAKF,cACvC,yBAAKO,UAAU,SACb,+BACGL,KAAKT,MAAMgB,SAAW,uBAAGC,MAAO,CAAEC,QAAS,UAAYJ,UAAU,iBAAiBD,QAAS,kBAAM,EAAKb,MAAMmB,uBAD/G,OAEGV,KAAKT,MAAMoB,SAFd,KAIA,yBAAKN,UAAU,kBAAkBG,MAAO,CAAEI,SAAU,UAClD,2BAAOP,UAAU,WAAWQ,KAAK,OAAOC,YAAY,SAASrB,MAAOO,KAAKR,MAAMC,MAAOsB,SAAUf,KAAKJ,eACrG,4BAAQS,UAAU,YAAYZ,MAAM,UAApC,aAKPO,KAAKT,MAAMG,WACV,0BAAMW,UAAU,UAAUC,SAAUN,KAAKF,cACvC,2BAAOU,MAAO,CAAEQ,UAAW,OAAQC,aAAc,SAC/C,uBAAGT,MAAO,CAAEC,QAAS,SAAUS,WAAY,SAAWlB,KAAKT,MAAMoB,SAAjE,KADF,OAEM,uBAAGH,MAAO,CAAEC,QAAS,SAAUS,WAAY,OAAQC,MAAO,mBAAqBnB,KAAKT,MAAM6B,SAEhG,yBAAKf,UAAU,iBACb,yBAAKA,UAAU,SACb,4BAAQA,UAAU,wBAAwBZ,MAAOO,KAAKR,MAAMC,MAAOsB,SAAUf,KAAKJ,cAC/EI,KAAKT,MAAMI,QAAQ0B,KAAI,SAACC,GAAD,OAAY,4BAAQC,IAAKD,EAAQ7B,MAAO6B,GAASA,QAG7E,yBAAKjB,UAAU,SACb,2BAAOA,UAAU,YAAYQ,KAAK,SAASpB,MAAM,mB,GAjD9C+B,IAAMC,WC2CVC,E,0KAxCDC,GAGV,IAFA,IAAMC,EAAQ,GAELC,EAAI,EAAGA,EAAIF,EAAKE,IAAK,CAC5B,IAAMC,EAAU,GAChBA,EAAQC,KAAK/B,KAAKgC,aAAaH,IAC/BD,EAAMG,KAAK,yBAAKR,IAAKM,GAAIC,IAG3B,OAAOF,I,mCAGIC,GAAI,IAAD,OACd,OACE,yBAAKrB,MAAO,CAAES,aAAc,QAASM,IAAKM,IACX,KAA1B7B,KAAKT,MAAM0C,QAAQJ,KAAc7B,KAAKT,MAAM2C,WAAclC,KAAKT,MAAMG,YACtE,kBAAC,EAAD,CACEA,UAAWM,KAAKT,MAAMG,UACtBC,QAASK,KAAKT,MAAMI,QACpBgB,SAAUX,KAAKT,MAAM4C,UAAUN,GAC/BT,OAAQpB,KAAKT,MAAM0C,QAAQJ,GAC3BzB,QAAS,SAACX,GAAD,OAAW,EAAKF,MAAMa,QAAQyB,EAAGpC,IAC1CiB,kBAAmB,kBAAM,EAAKnB,MAAMmB,kBAAkBmB,IACtDtB,QAASP,KAAKT,MAAMgB,WAEK,KAA1BP,KAAKT,MAAM0C,QAAQJ,KAAc7B,KAAKT,MAAMG,WAAeM,KAAKT,MAAM2C,YAAclC,KAAKT,MAAMG,YAChG,6BACE,uBAAGc,MAAO,CAAEC,QAAS,WAAaT,KAAKT,MAAM4C,UAAUN,GAAvD,KADF,OAEA,uBAAGrB,MAAO,CAAEC,QAAS,SAAUU,MAAO,mBAAqBnB,KAAKT,MAAM0C,QAAQJ,Q,+BAQpF,OAAO,6BAAM7B,KAAKoC,YAAYpC,KAAKT,MAAM8C,a,GAtCzBb,IAAMC,W,wBC8aXa,E,kDA3ab,WAAY/C,GAAQ,IAAD,uBACjB,cAAMA,IA2LRgD,WAAa,SAACC,EAAOpB,GAEnB,GAAI,EAAK5B,MAAMiD,QAAQ,EAAKC,WAAa,IAAM,EAAKlD,MAAMyC,QAAQ,EAAKU,aAAaH,GAAQ,CAE1F,IAAII,EAAiB,EAAKD,YAE1B,EAAKA,cACD,EAAKA,aAAe,EAAKhD,QAAQkD,SACnC,EAAKF,YAAc,GAErB,IAAIzC,EAAS,EAAKP,QAAQ,EAAKgD,aAC3BT,GAAY,EACZ,EAAKS,cAAgB,EAAKD,YAC5BR,GAAY,GAEd,EAAKjC,SAAS,CACZC,OAAQA,EACRgC,UAAWA,IAGb,EAAK3C,MAAMuD,OAAOC,QAAQ,CACxBC,QAAS,CACPJ,eAAgBA,EAChBJ,MAAOA,EACPpB,OAAQA,EACR6B,KAAM,EAAK1D,MAAM0D,KACjBP,UAAW,EAAKA,WAElBQ,QAAS,EAAK3D,MAAM4D,gBAxNP,EA6NnBC,QAAU,SAACZ,EAAOa,GAChB,IAAIC,EAAW,EAAK9D,MAAM+D,UAAU,EAAKb,WAAWF,GAChDgB,EAAgB,EAAK7D,QAAQ8D,QAAQH,GAGzC,EAAK/D,MAAMuD,OAAOC,QAAQ,CACxBC,QAAS,CACPU,MAAO,EAAK/D,QAAQ,EAAK+C,WACzBiB,KAAM,EAAKjB,UACXc,cAAeA,EACfI,aAAeN,IAAaD,GAE9BH,QAAS,EAAK3D,MAAM4D,eAzOL,EAuSnBzC,kBAAoB,SAACmB,GAEnB,IAAIgC,EAAU,EAAKrE,MAAMsE,cAAcL,QAAQ,EAAKjE,MAAM2C,UAAUN,IAEhEkC,EAAW,EAAKvE,MAAMsE,cAAcL,QAAQ,EAAKjE,MAAM2C,UAAU,EAAK3C,MAAM2C,UAAUU,OAAS,IAE/FkB,EAAW,EAAI,EAAKvE,MAAMsE,cAAcjB,QAC1C,EAAKtD,MAAMuD,OAAOC,QAAQ,CACxBC,QAAS,CACPnB,EAAGA,EACHmC,SAAUH,EACVI,SAAUF,EAAW,GAEvBb,QAAS,EAAK3D,MAAM4D,eApTP,EAyTnBe,MAAQ,SAACC,GACP,IAAIC,EAASD,EAAQtB,OAAS,EAAlB,2BAA2CsB,EAAQE,YAAnD,UAAqEF,EAAQ,GAA7E,UAER,EAAK5E,MAAM+E,cACbC,IAAKC,KAAK,CACRC,SAAU,MACVC,mBAAmB,EACnBN,MAAOA,EACPO,KAAM,aACNC,kBAAkB,EAClBC,mBAAoB,iBACpBC,kBAAmB,OACnBC,iBAAkB,OAClBC,kBAAmB,OACnBC,MAAO,IACPC,YAAa,CACXC,YAAY,EACZf,MAAO,cACPgB,MAAO,cACPC,cAAe,eACfC,aAAc,kBAEfC,MAAK,SAACC,GAEHA,EAAO/F,MACT,EAAKF,MAAMuD,OAAOC,QAAQ,CACxBC,QAAS,CACPyC,OAAO,GAETvC,QAAS,EAAK3D,MAAM4D,cAKtB,EAAK5D,MAAMuD,OAAOC,QAAQ,CACxBC,QAAS,CACP0C,SAAS,GAEXxC,QAAS,EAAK3D,MAAM4D,iBAQ1BoB,IAAKC,KAAK,CACRC,SAAU,MACVC,mBAAmB,EACnBN,MAAOA,EACPO,KAAM,6BACNE,mBAAoB,iBACpBI,MAAO,IACPC,YAAa,CACXC,YAAY,EACZf,MAAO,cACPgB,MAAO,cACPC,cAAe,mBA/WrB,EAAK3C,UAAY,EAAKnD,MAAMI,QAAQ8D,QAAQ,EAAKlE,MAAM0D,MACvD,EAAKN,YAAc,EAAKD,UAAY,EAChC,EAAKC,aAAe,EAAKpD,MAAMI,QAAQkD,SACzC,EAAKF,YAAc,GAUrB,IARA,IAAIzC,EAAS,EAAKX,MAAMI,QAAQ,EAAKgD,aAGjCgD,EAAO,EAAKpG,MAAMqG,UAClBC,EAAO,EAAKtG,MAAMqG,UAAY,EAC9B3D,EAAU,GACVsB,EAAY,GAEP1B,EAAI,EAAGA,EAAI8D,EAAM9D,IAAK,CAG7B,IAFA,IAAIiE,EAAe,GACfC,EAAiB,GACZC,EAAI,EAAGA,EAAIH,EAAMG,IACxBF,EAAa/D,KAAK,IAClBgE,EAAehE,KAAK,IAEtBE,EAAQF,KAAK+D,GACbvC,EAAUxB,KAAKgE,GAGjB,IAAI5D,EAAY,GACZ8D,EAAwB,GA5BX,OA6Bb,EAAK1G,MAAM+E,gBAEbnC,GADA8D,EAAwB,EAAKC,wBACKC,MAAM,EAAG,EAAK5G,MAAMqG,UAAY,GAClE,EAAKrG,MAAMuD,OAAOC,QAAQ,CACxBC,QAAS,CACPc,cAAemC,EACf9D,UAAWA,GAEbe,QAAS,EAAK3D,MAAM4D,eAIxB,EAAK3D,MAAQ,CACXU,OAAQA,EAERkG,OAAQC,MAAM,EAAK9G,MAAMqG,WAAWU,KAAK,GACzC7D,QAAS4D,MAAM,EAAK9G,MAAMqG,WAAWU,KAAK,GAE1CxC,cAAemC,EACf9D,UAAWA,EACXF,QAASA,EACTsB,UAAWA,EAEXrB,WAAW,EACXxC,WAAW,GAGb,EAAK6G,WAAa,EAClB,EAAK5G,QAAU,EAAKJ,MAAMI,QAC1B,EAAK6G,UAAW,EA1DC,E,gEA6DE,IAAD,OAClBxG,KAAKT,MAAMuD,OAAO2D,WAAWzG,KAAKT,MAAM4D,aAAa,SAACuD,GAUpD,GARIA,EAAI1D,QAAQb,WACd,EAAKlC,SAAS,CACZ6D,cAAe4C,EAAI1D,QAAQc,cAC3B3B,UAAWuE,EAAI1D,QAAQb,YAKvBuE,EAAI1D,QAAQiB,SACd,EAAKhE,UAAS,SAACT,GACb,IAAIsE,EAAgBtE,EAAMsE,cACtB3B,EAAY3C,EAAM2C,UAOtB,OALA2B,EAAc4C,EAAI1D,QAAQgB,UAAYF,EAAc4C,EAAI1D,QAAQiB,UAEhEH,EAAc6C,OAAOD,EAAI1D,QAAQiB,SAAU,GAE3C9B,EAAUuE,EAAI1D,QAAQnB,GAAKiC,EAAc4C,EAAI1D,QAAQgB,UAC9C,CACLF,cAAeA,EACf3B,UAAWA,WAMZ,GAAIuE,EAAI1D,QAAQU,MAAO,CAC1B,EAAK8C,UAAW,EAChB,EAAKD,aACL,IAAIpC,EAAU,GAEd,EAAKlE,UAAS,SAACT,GACb,IAAI4G,EAAS5G,EAAM4G,OAMnB,GALAA,EAAOM,EAAI1D,QAAQQ,eAAiB4C,EAAOM,EAAI1D,QAAQQ,eAAiB,EACpEkD,EAAI1D,QAAQY,eACdwC,EAAOM,EAAI1D,QAAQW,MAAQyC,EAAOM,EAAI1D,QAAQW,MAAQ,GAGpD,EAAK4C,aAAe,EAAKhH,MAAMqG,UAAW,CAC5C,IAAIgB,EAAWC,KAAKC,IAAL,MAAAD,KAAI,YAAQT,IAC3B,GAAIQ,GAAY,EAAKrH,MAAMwH,aACzB,IAAK,IAAIlF,EAAI,EAAGA,EAAIuE,EAAOvD,OAAQhB,IAC7BuE,EAAOvE,KAAO+E,GAChBzC,EAAQpC,KAAK,EAAKpC,QAAQkC,IAKlC,MAAO,CACLuE,OAAQA,EACR1G,UAAWgH,EAAI1D,QAAQU,QAAU,EAAK/D,QAAQ,EAAK+C,YAAqBlD,EAAME,cAK3D,IAAnByE,EAAQtB,OACV,EAAKqB,MAAMC,GAEJ,EAAKoC,aAAe,EAAKhH,MAAMqG,WACtC,EAAKoB,UAAS,QAKRN,EAAI1D,QAAQyC,OAASiB,EAAI1D,QAAQC,MACzC,EAAKuD,UAAW,EAChB,EAAKvG,UAAS,SAACT,GACb,IAAIiD,EAAUjD,EAAMiD,QAChBR,EAAUzC,EAAMyC,QAChBsB,EAAY/D,EAAM+D,UACtBtB,EAAQyE,EAAI1D,QAAQJ,gBAAgB8D,EAAI1D,QAAQR,OAAiC,KAAvBkE,EAAI1D,QAAQ5B,OAAiB,YAAcsF,EAAI1D,QAAQ5B,OACjHmC,EAAUmD,EAAI1D,QAAQJ,gBAAgB8D,EAAI1D,QAAQR,OAASkE,EAAI1D,QAAQC,KAGvER,EAAQiE,EAAI1D,QAAQN,WAAaD,EAAQiE,EAAI1D,QAAQN,YAAc,EAAI,EAAID,EAAQiE,EAAI1D,QAAQN,WAAa,EAC5G,IAAIuE,EAAYP,EAAI1D,QAAQN,UAAY,EACpCuE,EAAY,IACdA,EAAY,EAAKtH,QAAQkD,OAAS,GAEhC6D,EAAI1D,QAAQJ,iBAAmBqE,IACjCxE,EAAQwE,GAAaxE,EAAQwE,GAAa,GAG5C,IAAIvH,GAAY,EAOhB,OANI+C,EAAQyE,OAAM,SAAAC,GAAI,OAAa,IAATA,OACxBzH,GAAY,GAGd0H,QAAQC,IAAIpF,GAEL,CACLA,QAASA,EACTsB,UAAWA,EACXd,QAASA,EACT/C,UAAWF,EAAME,WAAaA,OAM3BgH,EAAI1D,QAAQyC,OACnBlB,IAAK+C,QACL,EAAKN,UAAS,IAIPN,EAAI1D,QAAQ0C,UACnBnB,IAAK+C,QACL,EAAK/H,MAAMmG,gB,6CAOf,IADA,IAAIO,EAAqB,YAAOnC,GACvBjC,EAAIoE,EAAsBpD,OAAS,EAAGhB,EAAI,EAAGA,IAAK,CACzD,IAAMmE,EAAIa,KAAKU,MAAMV,KAAKW,SAAW3F,GAC/B4F,EAAOxB,EAAsBpE,GACnCoE,EAAsBpE,GAAKoE,EAAsBD,GACjDC,EAAsBD,GAAKyB,EAE7B,OAAOxB,I,+BAoDAyB,GAAU,IAAD,OAChB1H,KAAKuG,WAAa,EAClBvG,KAAKwG,UAAW,EAChBxG,KAAKL,QAAUK,KAAKL,QAAQgI,UAC5B3H,KAAK0C,UAAY1C,KAAKL,QAAQ8D,QAAQzD,KAAKT,MAAM0D,MACjDjD,KAAK2C,YAAc3C,KAAK0C,UAAY,EAChC1C,KAAK2C,aAAe3C,KAAKL,QAAQkD,SACnC7C,KAAK2C,YAAc,GAUrB,IARA,IAAIzC,EAASF,KAAKL,QAAQK,KAAK2C,aAG3BgD,EAAO3F,KAAKT,MAAMqG,UAClBC,EAAO7F,KAAKT,MAAMqG,UAAY,EAC9B3D,EAAU,GACVsB,EAAY,GAEP1B,EAAI,EAAGA,EAAI8D,EAAM9D,IAAK,CAG7B,IAFA,IAAIiE,EAAe,GACfC,EAAiB,GACZC,EAAI,EAAGA,EAAIH,EAAMG,IACxBF,EAAa/D,KAAK,IAClBgE,EAAehE,KAAK,IAEtBE,EAAQF,KAAK+D,GACbvC,EAAUxB,KAAKgE,GAIjB,IAAIlE,EAAI7B,KAAKR,MAAMsE,cAAcL,QAAQzD,KAAKR,MAAM2C,UAAUnC,KAAKR,MAAM2C,UAAUU,OAAS,IAExFV,EAAY,GAEhB,GAAIN,EAAI7B,KAAKT,MAAMqG,UAAY5F,KAAKR,MAAMsE,cAAcjB,OACtDV,EAAYnC,KAAKR,MAAMsE,cAAcqC,MAAMtE,EAAI,EAAGA,EAAI7B,KAAKT,MAAMqG,eAG9D,CACHzD,EAAYnC,KAAKR,MAAMsE,cAAcqC,MAAMtE,EAAI,GAC/C,IAAK,IAAIA,EAAI,EAAGM,EAAUU,OAAS7C,KAAKT,MAAMqG,UAAY,EAAG/D,IAC3DM,EAAUJ,KAAK/B,KAAKR,MAAMsE,cAAcjC,IAI5C7B,KAAKC,UAAS,SAACT,GACb,MAAO,CACLU,OAAQA,EACRkG,OAAQsB,EAAUrB,MAAM,EAAK9G,MAAMqG,WAAWU,KAAK,GAAK9G,EAAM4G,OAAOuB,UACrElF,QAAS4D,MAAM,EAAK9G,MAAMqG,WAAWU,KAAK,GAC1CnE,UAAWA,EACXF,QAASA,EACTsB,UAAWA,EACXrB,WAAW,EACXxC,WAAW,Q,+BAuFP,IAAD,OACP,OACE,6BACE,6BACE,uBAAGc,MAAO,CAAEC,QAAS,SAAUmH,SAAU,SAAW5H,KAAKT,MAAM0D,MADjE,mBAEE,uBAAGzC,MAAO,CAAEC,QAAS,WAArB,UAAyCT,KAAKR,MAAM4G,OAAOpG,KAAK0C,YAC/D1C,KAAKR,MAAM4G,OAAOpG,KAAK0C,YAAc1C,KAAKT,MAAMwH,cAAgB,uBAAG1G,UAAU,qBAAqBG,MAAO,CAAEqH,WAAY,UAH1H,mBAIE,uBAAGrH,MAAO,CAAEC,QAAS,WAArB,YAA2CT,KAAKR,MAAMiD,QAAQzC,KAAK0C,cAEnE1C,KAAKR,MAAME,WACX,6BACE,uBAAGc,MAAO,CAAEoH,SAAU,OAAQzG,MAAO,SAAUH,UAAW,OAAQC,aAAc,SAAhF,WAAmGjB,KAAKR,MAAMU,SACrE,IAAvCF,KAAKR,MAAMiD,QAAQzC,KAAK0C,aAAqB1C,KAAKwG,WAClD,kBAAC,EAAD,CACEtE,UAAWlC,KAAKR,MAAM0C,UACtBG,OAAQrC,KAAKT,MAAMqG,UAAY,EAC/BzD,UAAWnC,KAAKR,MAAM2C,UACtBF,QAASjC,KAAKR,MAAMyC,QAAQjC,KAAK2C,aACjCvC,QAAS,SAACoC,EAAOpB,GAAR,OAAmB,EAAKmB,WAAWC,EAAOpB,IACnD1B,UAAWM,KAAKR,MAAME,UACtBC,QAASK,KAAKL,QACde,kBAAmB,SAACmB,GAAD,OAAO,EAAKnB,kBAAkBmB,IACjDtB,QAASP,KAAKT,MAAM+E,gBAAkBtE,KAAKwG,WAGP,IAAvCxG,KAAKR,MAAMiD,QAAQzC,KAAK0C,YAAoB1C,KAAKwG,UAChD,0CAILxG,KAAKR,MAAME,WACV,6BACE,uBAAGc,MAAO,CAAEoH,SAAU,OAAQzG,MAAO,SAAUH,UAAW,OAAQC,aAAc,SAAhF,mCACA,kBAAC,EAAD,CACEiB,WAAW,EACXG,OAAQrC,KAAKT,MAAMqG,UAAY,EAC/BzD,UAAWnC,KAAKR,MAAM2C,UACtBF,QAASjC,KAAKR,MAAMyC,QAAQjC,KAAK2C,aACjCvC,QAAS,SAACoC,EAAOa,GAAR,OAAkB,EAAKD,QAAQZ,EAAOa,IAC/C3D,UAAWM,KAAKR,MAAME,UACtBC,QAASK,KAAKL,QACdY,SAAS,U,GAnaJiB,IAAMC,W,kCC0YVqG,G,wDAvYb,WAAYvI,GAAQ,IAAD,8BACjB,cAAMA,IA6GRwI,SAAW,SAACC,GAAO,IAAD,EAEhB,EAAKC,OAASC,IAAQC,WAAWC,UAAU,EAAG,GAC9C,EAAKC,aAAe,mBAAqB,EAAKJ,OAC9C,EAAKrC,UAAY,EACjB,EAAK9C,OAAOwF,UAAU,CACpBC,SAAU,CAAC,EAAKF,cAChBG,cAAc,IAIhBjE,IAAKC,KAAK,CACRC,SAAU,MACVgE,MAAO,OACPC,WAAU,UAAEC,OAAOC,aAAaC,QAAQ,iBAA9B,QAA2C,GACrDnE,mBAAmB,EACnBoE,iBAAkB,kBAClBlE,kBAAkB,EAClBC,mBAAoB,iBACpBG,kBAAmB,KACnBC,MAAO,IACP8D,QAAS,QACT7D,YAAa,CACXC,YAAY,EACZC,MAAO,cACPC,cAAe,oBACfC,aAAc,uBAEfC,MAAK,SAACC,GAEP,GAAIA,EAAO/F,MAAO,CAChB,IAAIE,EAAU,GACdA,EAAQoC,KAAKyD,EAAO/F,OACpBkJ,OAAOC,aAAaI,QAAQ,SAAUxD,EAAO/F,OAE7C,EAAKQ,SAAS,CACZgD,KAAMuC,EAAO/F,MACbE,QAASA,EACT2E,eAAe,SAGjB,EAAKxB,OAAOmG,YAAY,CACtBV,SAAU,CAAC,EAAKF,gBAElB,EAAKJ,OAAS,KACd,EAAKI,aAAe,KACpB,EAAKzC,UAAY,MA5JJ,EAkKnBsD,YAAc,SAAClB,GACbzD,IAAKC,KAAK,CACRC,SAAU,MACVgE,MAAO,OACP/D,mBAAmB,EACnBoE,iBAAkB,oBAClBlE,kBAAkB,EAClBC,mBAAoB,iBACpBG,kBAAmB,KACnBC,MAAO,IACP8D,QAAS,QACT7D,YAAa,CACXC,YAAY,EACZC,MAAO,cACPC,cAAe,oBACfC,aAAc,uBAEfC,MAAK,SAACC,GAEHA,EAAO/F,OACT,EAAK0J,SAAS3D,EAAO/F,WAtLR,EA4LnB0J,SAAW,SAAC1J,GAAW,IAAD,EACpB,EAAKwI,OAASxI,EACd,EAAK4I,aAAe,mBAAqB,EAAKJ,OAE9C,EAAKnF,OAAOwF,UAAU,CACpBC,SAAU,CAAC,EAAKF,cAChBG,cAAc,IAIhBjE,IAAKC,KAAK,CACRC,SAAU,MACVgE,MAAO,OACPC,WAAU,UAAEC,OAAOC,aAAaC,QAAQ,iBAA9B,QAA2C,GACrDnE,mBAAmB,EACnBoE,iBAAkB,kBAClBlE,kBAAkB,EAClBC,mBAAoB,iBACpBG,kBAAmB,KACnBC,MAAO,IACP8D,QAAS,QACT7D,YAAa,CACXC,YAAY,EACZC,MAAO,cACPC,cAAe,oBACfC,aAAc,uBAEfC,MAAK,SAACC,GAEHA,EAAO/F,OACTkJ,OAAOC,aAAaI,QAAQ,SAAUxD,EAAO/F,OAE7C,EAAKQ,SAAS,CACZgD,KAAMuC,EAAO/F,QAEf,EAAKqD,OAAOC,QAAQ,CAClBC,QAAS,CACPC,KAAMuC,EAAO/F,OAEfyD,QAAS,EAAKmF,gBAGhB,EAAKvF,OAAOmG,YAAY,CACtBV,SAAU,CAAC,EAAKF,oBAvOL,EA6OnBe,aAAe,SAACpB,GAEd,GAAyB,MAArB,EAAKK,aAAsB,CAE7B,IAAIlF,EAAc,kBAAoB,EAAK8E,OAE3C,EAAKnF,OAAOC,QAAQ,CAClBC,QAAS,CACPqG,OAAO,EACPzD,UAAW,EAAKA,UAChBjG,QAAS,EAAKH,MAAMG,QACpBwD,YAAaA,EACb4D,aAAc,EAAKvH,MAAMuH,cAE3B7D,QAAS,EAAKmF,eAIhB9D,IAAK+C,UA/PU,EAmQnBgC,cAAgB,SAAChI,GACf,EAAKsE,YACL,IAAI2D,GAAkB,EAClB,EAAK3D,UAAY,IACnB2D,GAAkB,GAGpB,EAAKzG,OAAOC,QAAQ,CAClBC,QAAS,CACPwG,cAAelI,GAEjB4B,QAAS,EAAKmF,eAGhB,EAAKpI,UAAS,SAACT,GACb,IAAIG,EAAUH,EAAMG,QAEpB,OADAA,EAAQgH,OAAOnH,EAAMG,QAAQ8D,QAAQnC,GAAS,GACvC,CACLiI,gBAAiBA,EACjB5J,QAASA,OAtRI,EA4RnB+F,QAAU,WACR,EAAK5C,OAAOmG,YAAY,CACtBV,SAAU,CAAC,EAAKF,aAAc,EAAK7I,MAAM2D,eAG3C,EAAKyC,UAAY,EACjB,EAAKyC,aAAe,KACpB,EAAKJ,OAAS,KAEd,EAAKhI,SAAS,CACZgD,KAAM,GACNtD,QAAS,GACT8J,WAAW,EACXnF,eAAe,EACfiF,iBAAiB,EACjBpG,YAAa,KACb4D,aAAc,KA5SC,EAiTnBnH,aAAe,SAACG,GACd,EAAKE,SAAS,CAAE8G,aAAchH,EAAMG,OAAOT,SAhT3C,EAAKqD,OAAS,IAAI4G,IAAY,CAC5BC,WAAY,6CACZC,aAAc,+CAGhB,EAAKpK,MAAQ,CACXyD,KAAM,GACNtD,QAAS,GACT8J,WAAW,EACXnF,eAAe,EACfiF,iBAAiB,EACjBpG,YAAa,KACb4D,aAAc,GAGhB,EAAKnB,UAAY,EACjB,EAAKyC,aAAe,KACpB,EAAKJ,OAAS,KACd,EAAKnF,OAAO+G,KAAZ,gBApBiB,E,iEA6BG,IAAD,OACM,MAArB7J,KAAKqI,cACPrI,KAAK8C,OAAO2D,WAAWzG,KAAKqI,cAAc,SAAC3B,GAGzC,GAAwB,MAApBA,EAAI1D,QAAQC,MAAgB,EAAKzD,MAAM8E,gBAAkB,EAAK9E,MAAMiK,YACjE,EAAKjK,MAAMG,QAAQmK,SAASpD,EAAI1D,QAAQC,MAAO,CAClD,EAAK2C,YACL,IAAI2D,GAAkB,EAClB,EAAK3D,UAAY,IACnB2D,GAAkB,GAEpB,EAAKtJ,UAAS,SAACT,GACb,IAAIG,EAAUH,EAAMG,QAEpB,OADAA,EAAQoC,KAAK2E,EAAI1D,QAAQC,MAClB,CACLsG,gBAAiBA,EACjB5J,QAASA,MAOb+G,EAAI1D,QAAQqG,OAAS3C,EAAI1D,QAAQ4C,WAAa,IAC5Cc,EAAI1D,QAAQrD,QAAQmK,SAAS,EAAKtK,MAAMyD,OAC1C,EAAK2C,UAAYc,EAAI1D,QAAQ4C,UAC7B,EAAK9C,OAAOwF,UAAU,CACpBC,SAAU,CAAC7B,EAAI1D,QAAQG,aACvBqF,cAAc,IAEhB,EAAKvI,SAAS,CACZN,QAAS+G,EAAI1D,QAAQrD,QACrBwD,YAAauD,EAAI1D,QAAQG,YACzB4D,aAAcL,EAAI1D,QAAQ+D,gBAG5B,EAAKjE,OAAOmG,YAAY,CACtBV,SAAU,CAAC,EAAKF,iBAMlB3B,EAAI1D,QAAQwG,eACV9C,EAAI1D,QAAQwG,gBAAkB,EAAKhK,MAAMyD,OAC3C,EAAKH,OAAOmG,YAAY,CACtBV,SAAU,CAAC,EAAKF,gBAGlB,EAAKA,aAAe,KACpB,EAAKJ,OAAS,KAEd,EAAKhI,SAAS,CACZgD,KAAM,GACNE,YAAa,WAQO,MAA1BnD,KAAKR,MAAM2D,aACbnD,KAAK8C,OAAOiH,YAAY/J,KAAKR,MAAM2D,aAAa,SAAA6G,GACtB,SAApBA,EAASC,QACX,EAAKhK,SAAS,CACZwJ,WAAW,S,6CAQnBzJ,KAAK8C,OAAOmG,YAAY,CACtBV,SAAU,CAACvI,KAAKqI,aAAcrI,KAAKR,MAAM2D,iB,+BA4MnC,IAAD,OACP,OACE,8BACInD,KAAKR,MAAMiK,WACX,yBAAKpJ,UAAU,SACb,wBAAIG,MAAO,CAAE0J,OAAQ,OAAQjJ,aAAc,SACzC,yBAAKT,MAAO,CAAEC,QAAS,WAAvB,eACA,uBAAGD,MAAO,CAAEC,QAAS,UAAYJ,UAAU,eAE5CL,KAAKiI,QAAU,uBAAGzH,MAAO,CAAE0J,OAAQ,OAAQjJ,aAAc,SAA1C,yCAA2FjB,KAAKiI,QAChH,yBAAKzH,MAAO,CAAE0J,OAAQ,UAEjBlK,KAAKiI,QACN,yBAAK5H,UAAU,cACb,4BACEA,UAAU,YACVG,MAAO,CAAEyE,MAAO,QAChB7E,QAAS,SAAC4H,GAAD,OAAO,EAAKD,aAHvB,WAMA,yBAAK1H,UAAU,OACf,4BACEA,UAAU,YACVG,MAAO,CAAEyE,MAAO,QAChB7E,QAAS,SAAC4H,GAAD,OAAO,EAAKkB,gBAHvB,UAUFlJ,KAAKiI,QAAUjI,KAAKR,MAAM8E,eAC1B,yBAAK9D,MAAO,CAAE0J,OAAQ,OAAQC,UAAW,WACvC,kDACA,4BAAQ3J,MAAO,CAAES,aAAc,QAAUxB,MAAOO,KAAKR,MAAMuH,aAAchG,SAAUf,KAAKJ,cACrF,CAAC,EAAG,EAAG,EAAG,GAAI,GAAI,IAAIyB,KAAI,SAAC5B,GAAD,OAAW,4BAAQ8B,IAAK9B,EAAOA,MAAOA,GAAQA,OAE3E,6BACA,4BACEY,UAAU,YACVG,MAAO,CAAES,aAAc,QACvBmJ,SAAUpK,KAAKR,MAAM+J,gBACrBnJ,QAAS,SAAC4H,GAAD,OAAO,EAAKoB,iBAJvB,UAOCpJ,KAAKR,MAAMG,QAAQ0B,KAAI,SAACC,EAAQO,GAAT,OACtB,yBAAKrB,MAAO,CAAE2J,UAAW,QAAU5I,IAAKM,GACrCP,IAAW,EAAK9B,MAAMyD,MAAQ,uBAAGzC,MAAO,CAAEC,QAAS,UAAYJ,UAAU,iBAAiBD,QAAS,SAAC4H,GAAD,OAAO,EAAKsB,cAAchI,MAC9H,uBAAGd,MAAO,CAAEC,QAAS,WAAaa,QAOzB,MAAftB,KAAKiI,SAAmBjI,KAAKR,MAAM8E,eACnC,6BACE,uBAAG9D,MAAO,CAAE2J,UAAW,WAAvB,OAAwCnK,KAAKR,MAAMyD,KAAnD,KACA,uBAAGzC,MAAO,CAAE2J,UAAW,WAAvB,2CAOTnK,KAAKR,MAAMiK,WACV,kBAAC,EAAD,CACE3G,OAAQ9C,KAAK8C,OACbK,YAAanD,KAAKR,MAAM2D,YACxBF,KAAMjD,KAAKR,MAAMyD,KACjBtD,QAASK,KAAKR,MAAMG,QACpBiG,UAAW5F,KAAK4F,UAChBtB,cAAetE,KAAKR,MAAM8E,cAC1BoB,QAAS1F,KAAK0F,QACdqB,aAAc/G,KAAKR,MAAMuH,oB,GAhYnBtF,cCHlB4I,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.4f8b0c4e.chunk.js","sourcesContent":["import React from 'react';\n\nclass Form extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: this.props.judgeMode ? this.props.players[0] : \"\" };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({ value: event.target.value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.props.onClick(this.state.value);\n    this.setState({ value: this.props.judgeMode ? this.props.players[0] : \"\" });\n  }\n\n  render() {\n    return (\n      <div>\n        {!this.props.judgeMode &&\n          <form className=\"ui form\" onSubmit={this.handleSubmit}>\n            <div className=\"field\">\n              <label>\n                {this.props.refresh && <i style={{ display: \"inline\" }} className=\"blue redo icon\" onClick={() => this.props.onQuestionRefresh()}></i>}&nbsp;\n                {this.props.question}:\n              </label>\n              <div className=\"ui action input\" style={{ maxWidth: \"500px\" }}>\n                <input className=\"ui input\" type=\"text\" placeholder=\"answer\" value={this.state.value} onChange={this.handleChange} />\n                <button className=\"ui button\" value=\"Submit\">Submit</button>\n              </div>\n            </div>\n          </form>\n        }\n        {this.props.judgeMode &&\n          <form className=\"ui form\" onSubmit={this.handleSubmit}>\n            <label style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\n              <p style={{ display: \"inline\", fontWeight: \"bold\" }}>{this.props.question}:</p>&nbsp;\n                  <p style={{ display: \"inline\", fontWeight: \"bold\", color: \"CornflowerBlue\" }}>{this.props.answer}</p>\n            </label>\n            <div className=\"inline fields\">\n              <div className=\"field\">\n                <select className=\"ui selection dropdown\" value={this.state.value} onChange={this.handleChange}>\n                  {this.props.players.map((player) => <option key={player} value={player}>{player}</option>)}\n                </select>\n              </div>\n              <div className=\"field\">\n                <input className=\"ui button\" type=\"submit\" value=\"Submit\" />\n              </div>\n            </div>\n          </form>\n        }\n      </div>\n    );\n  }\n}\n\nexport default Form;\n","import React from 'react';\nimport Form from './Form';\n\nclass Board extends React.Component {\n\n  createBoard(row) {\n    const board = [];\n\n    for (let i = 0; i < row; i++) {\n      const columns = [];\n      columns.push(this.renderSquare(i));\n      board.push(<div key={i}>{columns}</div>);\n    }\n\n    return board;\n  }\n\n  renderSquare(i) {\n    return (\n      <div style={{ marginBottom: \"10px\"}} key={i}>\n        {((this.props.answers[i] === \"\" && !this.props.roundDone) || this.props.judgeMode) &&\n          <Form\n            judgeMode={this.props.judgeMode}\n            players={this.props.players}\n            question={this.props.questions[i]}\n            answer={this.props.answers[i]}\n            onClick={(value) => this.props.onClick(i, value)}\n            onQuestionRefresh={() => this.props.onQuestionRefresh(i)}\n            refresh={this.props.refresh} />\n        }\n        {((this.props.answers[i] !== \"\" && !this.props.judgeMode) || (this.props.roundDone && !this.props.judgeMode)) &&\n          <div>\n            <p style={{ display: \"inline\" }}>{this.props.questions[i]}:</p>&nbsp;\n          <p style={{ display: \"inline\", color: \"CornflowerBlue\" }}>{this.props.answers[i]}</p>\n          </div>\n        }\n      </div>\n    );\n  }\n\n  render() {\n    return <div>{this.createBoard(this.props.blanks)}</div>;\n  }\n}\n\nexport default Board;\n","import React from 'react';\nimport Board from './Board';\nimport Swal from \"sweetalert2\";\nimport questionsList from './questions.json';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.userIndex = this.props.players.indexOf(this.props.name);\n    this.targetIndex = this.userIndex + 1;\n    if (this.targetIndex >= this.props.players.length) {\n      this.targetIndex = 0;\n    }\n    var target = this.props.players[this.targetIndex];\n\n    // create multidimensional arrays this way for an annoying reason\n    var rows = this.props.occupants; //num of players\n    var cols = this.props.occupants - 1; //answer blanks\n    var answers = [];\n    var answerers = [];\n\n    for (let i = 0; i < rows; i++) {\n      var answerBlanks = [];\n      var answererBlanks = [];\n      for (let j = 0; j < cols; j++) {\n        answerBlanks.push(\"\");\n        answererBlanks.push(\"\");\n      }\n      answers.push(answerBlanks);\n      answerers.push(answererBlanks);\n    }\n\n    var questions = [];\n    var shuffledQuestionsList = [];\n    if (this.props.isRoomCreator) {\n      shuffledQuestionsList = this.shuffleQuestionsList();\n      questions = shuffledQuestionsList.slice(0, this.props.occupants - 1);\n      this.props.pubnub.publish({\n        message: {\n          questionsList: shuffledQuestionsList,\n          questions: questions,\n        },\n        channel: this.props.gameChannel\n      });\n    }\n\n    this.state = {\n      target: target,\n\n      scores: Array(this.props.occupants).fill(0),\n      backlog: Array(this.props.occupants).fill(1),\n\n      questionsList: shuffledQuestionsList,\n      questions: questions,\n      answers: answers, // [player][answer]\n      answerers: answerers,\n\n      roundDone: false,\n      judgeMode: false,\n    };\n\n    this.judgeCount = 0;\n    this.players = this.props.players;\n    this.madeMove = false;\n  }\n\n  componentDidMount() {\n    this.props.pubnub.getMessage(this.props.gameChannel, (msg) => {\n      // set questions\n      if (msg.message.questions) {\n        this.setState({\n          questionsList: msg.message.questionsList,\n          questions: msg.message.questions,\n        });\n      }\n\n      //refresh question\n      if (msg.message.newIndex) {\n        this.setState((state) => {\n          var questionsList = state.questionsList;\n          var questions = state.questions;\n          //replace old index and delete the new question\n          questionsList[msg.message.oldIndex] = questionsList[msg.message.newIndex];\n          //remove the original new question so it's not used twice\n          questionsList.splice(msg.message.newIndex, 1);\n          //replace question in currently used questions\n          questions[msg.message.i] = questionsList[msg.message.oldIndex];\n          return {\n            questionsList: questionsList,\n            questions: questions\n          };\n        });\n      }\n\n      // update scores / done judging? / new round?\n      else if (msg.message.judge) {\n        this.madeMove = false; //reset madeMove here since questions visibility relies on it after submitting guess\n        this.judgeCount++;\n        var winners = [];\n\n        this.setState((state) => {\n          var scores = state.scores;\n          scores[msg.message.answererIndex] = scores[msg.message.answererIndex] + 1;\n          if (msg.message.correctGuess) {\n            scores[msg.message.user] = scores[msg.message.user] + 1;\n          }\n          //check for winner if round is done (with updated scores)\n          if (this.judgeCount === this.props.occupants) {\n            var maxScore = Math.max(...scores);\n            if (maxScore >= this.props.winningScore) {\n              for (let i = 0; i < scores.length; i++) {\n                if (scores[i] === maxScore) {\n                  winners.push(this.players[i]);\n                }\n              }\n            }\n          }\n          return {\n            scores: scores,\n            judgeMode: msg.message.judge === this.players[this.userIndex] ? false : state.judgeMode\n          };\n        });\n\n        //if there is a winner\n        if (winners.length !== 0) {\n          this.onWin(winners);\n        }\n        else if (this.judgeCount === this.props.occupants) {\n          this.newRound(false);\n        }\n      }\n\n      // someone 'made move' aka answered a question\n      else if (!msg.message.reset && msg.message.name) {\n        this.madeMove = true;\n        this.setState((state) => {\n          var backlog = state.backlog;\n          var answers = state.answers;\n          var answerers = state.answerers;\n          answers[msg.message.oldTargetIndex][msg.message.index] = (msg.message.answer === \"\") ? \"no answer\" : msg.message.answer;\n          answerers[msg.message.oldTargetIndex][msg.message.index] = msg.message.name;\n\n          //update backlog (prev person+1, current person-1)\n          backlog[msg.message.userIndex] = backlog[msg.message.userIndex] <= 0 ? 0 : backlog[msg.message.userIndex] - 1;\n          var prevIndex = msg.message.userIndex - 1;\n          if (prevIndex < 0) {\n            prevIndex = this.players.length - 1;\n          }\n          if (msg.message.oldTargetIndex !== prevIndex) { // dont add to prev person's backlog if they're getting their own back\n            backlog[prevIndex] = backlog[prevIndex] + 1;\n          }\n\n          var judgeMode = false;\n          if (backlog.every(item => item === 0)) {\n            judgeMode = true;\n          }\n\n          console.log(answers);\n\n          return {\n            answers: answers,\n            answerers: answerers,\n            backlog: backlog,\n            judgeMode: state.judgeMode || judgeMode\n          };\n        });\n      }\n\n      // Start a new game\n      else if (msg.message.reset) {\n        Swal.close();\n        this.newRound(true);\n      }\n\n      // End the game and go back to the lobby\n      else if (msg.message.endGame) {\n        Swal.close();\n        this.props.endGame();\n      }\n    });\n  }\n\n  shuffleQuestionsList() {\n    var shuffledQuestionsList = [...questionsList];\n    for (let i = shuffledQuestionsList.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * i)\n      const temp = shuffledQuestionsList[i]\n      shuffledQuestionsList[i] = shuffledQuestionsList[j]\n      shuffledQuestionsList[j] = temp\n    }\n    return shuffledQuestionsList;\n  }\n\n  onMakeMove = (index, answer) => {\n    // Check if user has backlog & field is empty\n    if (this.state.backlog[this.userIndex] > 0 && !this.state.answers[this.targetIndex][index]) {\n      //next target\n      var oldTargetIndex = this.targetIndex;\n      // update target\n      this.targetIndex++;\n      if (this.targetIndex >= this.players.length) {\n        this.targetIndex = 0;\n      }\n      var target = this.players[this.targetIndex];\n      var roundDone = false;\n      if (this.targetIndex === this.userIndex) {\n        roundDone = true;\n      }\n      this.setState({\n        target: target,\n        roundDone: roundDone,\n      });\n\n      this.props.pubnub.publish({\n        message: {\n          oldTargetIndex: oldTargetIndex,\n          index: index,\n          answer: answer,\n          name: this.props.name,\n          userIndex: this.userIndex,\n        },\n        channel: this.props.gameChannel\n      });\n    }\n  }\n\n  onGuess = (index, guess) => {\n    var answerer = this.state.answerers[this.userIndex][index];\n    var answererIndex = this.players.indexOf(answerer);\n\n    // Publish move to the channel\n    this.props.pubnub.publish({\n      message: {\n        judge: this.players[this.userIndex],\n        user: this.userIndex,\n        answererIndex: answererIndex,\n        correctGuess: (answerer === guess)\n      },\n      channel: this.props.gameChannel\n    });\n  }\n\n  newRound(restart) { // reset everything except questionsList, reverse players/scores & update user index\n    this.judgeCount = 0;\n    this.madeMove = false;\n    this.players = this.players.reverse();\n    this.userIndex = this.players.indexOf(this.props.name);\n    this.targetIndex = this.userIndex + 1;\n    if (this.targetIndex >= this.players.length) {\n      this.targetIndex = 0;\n    }\n    var target = this.players[this.targetIndex];\n\n    // create multidimensional arrays this way for an annoying reason\n    var rows = this.props.occupants; //number of players\n    var cols = this.props.occupants - 1; //answer blanks\n    var answers = [];\n    var answerers = [];\n\n    for (let i = 0; i < rows; i++) {\n      var answerBlanks = [];\n      var answererBlanks = [];\n      for (let j = 0; j < cols; j++) {\n        answerBlanks.push(\"\");\n        answererBlanks.push(\"\");\n      }\n      answers.push(answerBlanks);\n      answerers.push(answererBlanks);\n    }\n\n    // index of the last current question in the questionsList\n    var i = this.state.questionsList.indexOf(this.state.questions[this.state.questions.length - 1]);\n\n    var questions = [];\n    // if there's enough items in questionList to make a set of questions\n    if (i + this.props.occupants < this.state.questionsList.length) {\n      questions = this.state.questionsList.slice(i + 1, i + this.props.occupants);\n    }\n    // else use the rest of the questions and go back to start of questionsList\n    else {\n      questions = this.state.questionsList.slice(i + 1,);\n      for (let i = 0; questions.length < this.props.occupants - 1; i++) {\n        questions.push(this.state.questionsList[i]);\n      }\n    }\n\n    this.setState((state) => {\n      return {\n        target: target,\n        scores: restart ? Array(this.props.occupants).fill(0) : state.scores.reverse(),\n        backlog: Array(this.props.occupants).fill(1),\n        questions: questions,\n        answers: answers, // [player][answer]\n        answerers: answerers,\n        roundDone: false,\n        judgeMode: false,\n      };\n    });\n  }\n\n  onQuestionRefresh = (i) => { // for when room creator wants to switch out a question\n    // index of the question in the questionsList\n    var QLIndex = this.state.questionsList.indexOf(this.state.questions[i]);\n    // index of last [question] in questionsList\n    var endIndex = this.state.questionsList.indexOf(this.state.questions[this.state.questions.length - 1]);\n    // if the next unused index in questionsList exists (aka if we didn't go through the entire questionsList)\n    if (endIndex + 1 < this.state.questionsList.length) {\n      this.props.pubnub.publish({\n        message: {\n          i: i,\n          oldIndex: QLIndex,\n          newIndex: endIndex + 1,\n        },\n        channel: this.props.gameChannel\n      });\n    }\n  }\n\n  onWin = (winners) => {\n    let title = (winners.length > 1) ? `Tie! Winners are ${winners.toString()}` : `${winners[0]} wins!`;\n    // pop up for room creator\n    if (this.props.isRoomCreator) {\n      Swal.fire({\n        position: 'top',\n        allowOutsideClick: false,\n        title: title,\n        text: 'New Round?',\n        showCancelButton: true,\n        confirmButtonColor: 'rgb(208,33,41)',\n        cancelButtonColor: '#aaa',\n        cancelButtonText: 'Nope',\n        confirmButtonText: 'Yea!',\n        width: 275,\n        customClass: {\n          heightAuto: false,\n          title: 'title-class',\n          popup: 'popup-class',\n          confirmButton: 'button-class',\n          cancelButton: 'button-class'\n        },\n      }).then((result) => {\n        // Start a new round\n        if (result.value) {\n          this.props.pubnub.publish({\n            message: {\n              reset: true\n            },\n            channel: this.props.gameChannel\n          });\n        }\n        else {\n          // End the game\n          this.props.pubnub.publish({\n            message: {\n              endGame: true\n            },\n            channel: this.props.gameChannel\n          });\n        }\n      })\n    }\n\n    //else if not room creator\n    else {\n      Swal.fire({\n        position: 'top',\n        allowOutsideClick: false,\n        title: title,\n        text: 'Waiting for a new round...',\n        confirmButtonColor: 'rgb(208,33,41)',\n        width: 275,\n        customClass: {\n          heightAuto: false,\n          title: 'title-class',\n          popup: 'popup-class',\n          confirmButton: 'button-class',\n        },\n      });\n    }\n  }\n\n\n  render() {\n    return (\n      <div>\n        <div>\n          <p style={{ display: \"inline\", fontSize: \"26px\" }}>{this.props.name}</p>&nbsp;&nbsp;&nbsp;&nbsp;\n          <p style={{ display: \"inline\" }}>Score: {this.state.scores[this.userIndex]}</p>\n          {this.state.scores[this.userIndex] >= this.props.winningScore && <i className=\"yellow trophy icon\" style={{ marginLeft: \"10px\" }} />}&nbsp;&nbsp;&nbsp;&nbsp;\n          <p style={{ display: \"inline\" }}>Backlog: {this.state.backlog[this.userIndex]}</p>\n        </div>\n        {!this.state.judgeMode &&\n          <div >\n            <p style={{ fontSize: \"20px\", color: \"Tomato\", marginTop: \"15px\", marginBottom: \"10px\" }}>Target: {this.state.target}</p>\n            {(this.state.backlog[this.userIndex] !== 0 || !this.madeMove) && \n              <Board\n                roundDone={this.state.roundDone}\n                blanks={this.props.occupants - 1}\n                questions={this.state.questions}\n                answers={this.state.answers[this.targetIndex]}\n                onClick={(index, answer) => this.onMakeMove(index, answer)}\n                judgeMode={this.state.judgeMode}\n                players={this.players}\n                onQuestionRefresh={(i) => this.onQuestionRefresh(i)}\n                refresh={this.props.isRoomCreator && !this.madeMove}\n              />\n            }\n            {this.state.backlog[this.userIndex] === 0 && this.madeMove && //includes if you're waiting for your own sheet back\n              <p>waiting...</p>\n            }\n          </div>\n        }\n        {this.state.judgeMode &&\n          <div >\n            <p style={{ fontSize: \"20px\", color: \"Tomato\", marginTop: \"30px\", marginBottom: \"10px\" }}>Guess who wrote your fav answer</p>\n            <Board\n              roundDone={false}\n              blanks={this.props.occupants - 1}\n              questions={this.state.questions}\n              answers={this.state.answers[this.targetIndex]}\n              onClick={(index, guess) => this.onGuess(index, guess)}\n              judgeMode={this.state.judgeMode}\n              players={this.players}\n              refresh={false}\n            />\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nexport default Game;\n","import React, { Component } from 'react';\nimport Game from './Game';\nimport PubNubReact from 'pubnub-react';\nimport Swal from \"sweetalert2\";\nimport shortid from 'shortid';\nimport './Game.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.pubnub = new PubNubReact({\n      publishKey: \"pub-c-5a45de7f-2d49-4913-a215-3a91b54a312e\",\n      subscribeKey: \"sub-c-065bec9c-9b29-11ea-8e71-f2b83ac9263d\"\n    });\n\n    this.state = {\n      name: \"\",\n      players: [],\n      isPlaying: false,\n      isRoomCreator: false,\n      startIsDisabled: true,\n      gameChannel: null,\n      winningScore: 8,\n    };\n\n    this.occupants = 0;\n    this.lobbyChannel = null;\n    this.roomId = null;\n    this.pubnub.init(this);\n\n    // this.pubnub.addListener({\n    //   message: function (msg) {\n    //     console.log(\"listener: message in \", msg.channel, msg.message);\n    //   }\n    // })\n  }\n\n  componentDidUpdate() {\n    if (this.lobbyChannel != null) {\n      this.pubnub.getMessage(this.lobbyChannel, (msg) => {\n\n        // someone joined the lobby\n        if (msg.message.name != null && this.state.isRoomCreator && !this.state.isPlaying) {\n          if (!this.state.players.includes(msg.message.name)) {\n            this.occupants++;\n            var startIsDisabled = true;\n            if (this.occupants > 2) {\n              startIsDisabled = false;\n            }\n            this.setState((state) => {\n              var players = state.players;\n              players.push(msg.message.name);\n              return {\n                startIsDisabled: startIsDisabled,\n                players: players\n              };\n            })\n          }\n        }\n\n        //start game\n        if (msg.message.start && msg.message.occupants >= 3) {\n          if (msg.message.players.includes(this.state.name)) {\n            this.occupants = msg.message.occupants;\n            this.pubnub.subscribe({\n              channels: [msg.message.gameChannel],\n              withPresence: true,\n            });\n            this.setState({\n              players: msg.message.players,\n              gameChannel: msg.message.gameChannel,\n              winningScore: msg.message.winningScore,\n            })\n          } else {\n            this.pubnub.unsubscribe({\n              channels: [this.lobbyChannel]\n            });\n          }\n        }\n\n        //check removed player\n        if (msg.message.removedPlayer) {\n          if (msg.message.removedPlayer === this.state.name) {\n            this.pubnub.unsubscribe({\n              channels: [this.lobbyChannel]\n            });\n\n            this.lobbyChannel = null;\n            this.roomId = null;\n\n            this.setState({\n              name: \"\",\n              gameChannel: null,\n            });\n          }\n        }\n      });\n    }\n\n    //joined the game\n    if (this.state.gameChannel != null) {\n      this.pubnub.getPresence(this.state.gameChannel, presence => {\n        if (presence.action === \"join\") {\n          this.setState({\n            isPlaying: true,\n          });\n        }\n      });\n    }\n  }\n  \n  componentWillUnmount() {\n    this.pubnub.unsubscribe({\n      channels: [this.lobbyChannel, this.state.gameChannel]\n    });\n  }\n\n  // Create a room channel\n  onCreate = (e) => {\n    // Create a random name for the channel\n    this.roomId = shortid.generate().substring(0, 5);\n    this.lobbyChannel = 'tictactoelobby--' + this.roomId;\n    this.occupants = 1;\n    this.pubnub.subscribe({\n      channels: [this.lobbyChannel],\n      withPresence: true\n    });\n\n    //get name\n    Swal.fire({\n      position: 'top',\n      input: 'text',\n      inputValue: window.localStorage.getItem('player') ?? \"\",\n      allowOutsideClick: false,\n      inputPlaceholder: 'Enter your name',\n      showCancelButton: true,\n      confirmButtonColor: 'rgb(208,33,41)',\n      confirmButtonText: 'OK',\n      width: 275,\n      padding: '0.7em',\n      customClass: {\n        heightAuto: false,\n        popup: 'popup-class',\n        confirmButton: 'join-button-class',\n        cancelButton: 'join-button-class'\n      }\n    }).then((result) => {\n      // Check if the user typed a value in the input field\n      if (result.value) {\n        var players = [];\n        players.push(result.value);\n        window.localStorage.setItem('player', result.value);\n\n        this.setState({\n          name: result.value,\n          players: players,\n          isRoomCreator: true,\n        })\n      } else {\n        this.pubnub.unsubscribe({\n          channels: [this.lobbyChannel]\n        });\n        this.roomId = null;\n        this.lobbyChannel = null;\n        this.occupants = 0;\n      }\n    })\n  }\n\n  // The 'Join' button was pressed\n  onPressJoin = (e) => {\n    Swal.fire({\n      position: 'top',\n      input: 'text',\n      allowOutsideClick: false,\n      inputPlaceholder: 'Enter the room id',\n      showCancelButton: true,\n      confirmButtonColor: 'rgb(208,33,41)',\n      confirmButtonText: 'OK',\n      width: 275,\n      padding: '0.7em',\n      customClass: {\n        heightAuto: false,\n        popup: 'popup-class',\n        confirmButton: 'join-button-class',\n        cancelButton: 'join-button-class'\n      }\n    }).then((result) => {\n      // Check if the user typed a value in the input field\n      if (result.value) {\n        this.joinRoom(result.value);\n      }\n    })\n  }\n\n  // Join a room channel\n  joinRoom = (value) => {\n    this.roomId = value;\n    this.lobbyChannel = 'tictactoelobby--' + this.roomId;\n\n    this.pubnub.subscribe({\n      channels: [this.lobbyChannel],\n      withPresence: true\n    });\n\n    //get name\n    Swal.fire({\n      position: 'top',\n      input: 'text',\n      inputValue: window.localStorage.getItem('player') ?? \"\",\n      allowOutsideClick: false,\n      inputPlaceholder: 'Enter your name',\n      showCancelButton: true,\n      confirmButtonColor: 'rgb(208,33,41)',\n      confirmButtonText: 'OK',\n      width: 275,\n      padding: '0.7em',\n      customClass: {\n        heightAuto: false,\n        popup: 'popup-class',\n        confirmButton: 'join-button-class',\n        cancelButton: 'join-button-class'\n      }\n    }).then((result) => {\n      // Check if the user typed a value in the input field\n      if (result.value) {\n        window.localStorage.setItem('player', result.value);\n\n        this.setState({\n          name: result.value,\n        })\n        this.pubnub.publish({\n          message: {\n            name: result.value,\n          },\n          channel: this.lobbyChannel\n        });\n      } else {\n        this.pubnub.unsubscribe({\n          channels: [this.lobbyChannel]\n        });\n      }\n    })\n  }\n\n  onPressStart = (e) => {\n    // Check that the player is connected to a channel\n    if (this.lobbyChannel != null) {\n      // Create a different channel for the game\n      var gameChannel = 'tictactoegame--' + this.roomId;\n\n      this.pubnub.publish({\n        message: {\n          start: true,\n          occupants: this.occupants,\n          players: this.state.players,\n          gameChannel: gameChannel,\n          winningScore: this.state.winningScore,\n        },\n        channel: this.lobbyChannel\n      });\n\n      // Close the modals if they are opened\n      Swal.close();\n    }\n  }\n\n  onPressRemove = (player) => {\n    this.occupants--;\n    var startIsDisabled = false;\n    if (this.occupants < 3) {\n      startIsDisabled = true;\n    }\n\n    this.pubnub.publish({\n      message: {\n        removedPlayer: player\n      },\n      channel: this.lobbyChannel\n    });\n\n    this.setState((state) => {\n      var players = state.players;\n      players.splice(state.players.indexOf(player), 1);\n      return {\n        startIsDisabled: startIsDisabled,\n        players: players\n      };\n    })\n  }\n\n  // Reset everything\n  endGame = () => {\n    this.pubnub.unsubscribe({\n      channels: [this.lobbyChannel, this.state.gameChannel]\n    });\n\n    this.occupants = 0;\n    this.lobbyChannel = null;\n    this.roomId = null;\n\n    this.setState({\n      name: \"\",\n      players: [],\n      isPlaying: false,\n      isRoomCreator: false,\n      startIsDisabled: true,\n      gameChannel: null,\n      winningScore: 8,\n    });\n  }\n\n  //for winning score change\n  handleChange = (event) => {\n    this.setState({ winningScore: event.target.value });\n  }\n\n  render() {\n    return (\n      <div>\n        {!this.state.isPlaying &&\n          <div className=\"lobby\">\n            <h1 style={{ margin: \"auto\", marginBottom: \"30px\" }}>\n              <div style={{ display: \"inline\" }}>Truth Bomb </div>\n              <i style={{ display: \"inline\" }} className=\"bomb icon\"></i>\n            </h1>\n            {this.roomId && <p style={{ margin: \"auto\", marginBottom: \"15px\" }}>Share this room ID with your friends: {this.roomId}</p>}\n            <div style={{ margin: \"auto\" }}>\n              { // no room id yet -> create or join\n                !this.roomId &&\n                <div className=\"ui buttons\">\n                  <button\n                    className=\"ui button\"\n                    style={{ width: \"90px\" }}\n                    onClick={(e) => this.onCreate()}\n                  > Create\n                  </button>\n                  <div className=\"or\"></div>\n                  <button\n                    className=\"ui button\"\n                    style={{ width: \"90px\" }}\n                    onClick={(e) => this.onPressJoin()}\n                  > Join\n                  </button>\n                </div>\n              }\n\n              { // created game and waiting for people to join\n                this.roomId && this.state.isRoomCreator &&\n                <div style={{ margin: \"auto\", textAlign: \"center\" }}>\n                  <label>Points to win: </label>\n                  <select style={{ marginBottom: \"15px\" }} value={this.state.winningScore} onChange={this.handleChange}>\n                    {[2, 5, 8, 10, 15, 20].map((value) => <option key={value} value={value}>{value}</option>)}\n                  </select>\n                  <br />\n                  <button\n                    className=\"ui button\"\n                    style={{ marginBottom: \"15px\" }}\n                    disabled={this.state.startIsDisabled}\n                    onClick={(e) => this.onPressStart()}\n                  > Start\n                  </button>\n                  {this.state.players.map((player, i) =>\n                    <div style={{ textAlign: \"left\" }} key={i}>\n                      {player !== this.state.name && <i style={{ display: \"inline\" }} className=\"red close icon\" onClick={(e) => this.onPressRemove(player)}></i>}\n                      <p style={{ display: \"inline\" }}>{player}</p>\n                    </div>\n                  )}\n                </div>\n              }\n\n              { // waiting for roomCreator to start\n                this.roomId != null && !this.state.isRoomCreator &&\n                <div>\n                  <p style={{ textAlign: \"center\" }}>Hi, {this.state.name}!</p>\n                  <p style={{ textAlign: \"center\" }}>waiting for room creator to start...</p>\n                </div>\n              }\n            </div>\n          </div>\n        }\n\n        {this.state.isPlaying &&\n          <Game\n            pubnub={this.pubnub}\n            gameChannel={this.state.gameChannel}\n            name={this.state.name}\n            players={this.state.players}\n            occupants={this.occupants}\n            isRoomCreator={this.state.isRoomCreator}\n            endGame={this.endGame}\n            winningScore={this.state.winningScore}\n          />\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}